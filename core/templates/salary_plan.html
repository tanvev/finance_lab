{% extends "base.html" %}
{% load static %}
{% block title %}Salary Planner | Finance Lab{% endblock %}

{% block content %}

<section class="mb-10">
  <h1 class="text-3xl md:text-4xl font-bold text-trust dark:text-blue-300">
    ðŸ’¼ Salary Planner â€” Smart Take-Home Blueprint
  </h1>
  <p class="text-gray-700 dark:text-gray-300 mt-2 text-base md:text-lg">
    Calculate a smart breakdown + tax-optimized suggestions based on your city, lifestyle, and financial goals.
  </p>
</section>

<div class="grid md:grid-cols-2 gap-6">

  <!-- LEFT SIDE FORM -->
  <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border dark:border-gray-700">

    <h2 class="text-xl font-semibold text-trust dark:text-blue-300 mb-4">Enter Your Details</h2>

    <!-- Salary Input -->
    <label class="block text-sm mb-1 font-semibold">Monthly Take-Home Salary (â‚¹)</label>
    <input id="salary" type="number"
      class="w-full p-2 rounded border dark:bg-gray-700 dark:border-gray-600"
      placeholder="Example: 28000" oninput="updatePlan()">

    <!-- City Selection -->
    <label class="block text-sm mt-4 mb-1 font-semibold">City Cost Level</label>
    <select id="city" class="w-full p-2 rounded border dark:bg-gray-700 dark:border-gray-600" onchange="updatePlan()">
      <option value="metro">Metro (BLR/MUM/DEL/CHENNAI)</option>
      <option value="tier1">Tier-1 (Pune, Hyd, Noida)</option>
      <option value="tier2">Tier-2/3 Cities</option>
    </select>

    <!-- Living Type -->
    <label class="block text-sm mt-4 mb-1 font-semibold">Living Type</label>
    <select id="living" class="w-full p-2 rounded border dark:bg-gray-700 dark:border-gray-600" onchange="updatePlan()">
      <option value="pg">PG/Hostel</option>
      <option value="flat">Flat Sharing</option>
      <option value="family">Living with Family</option>
    </select>

    <!-- Financial Goal -->
    <label class="block text-sm mt-4 mb-1 font-semibold">Primary Goal</label>
    <select id="goal" class="w-full p-2 rounded border dark:bg-gray-700 dark:border-gray-600" onchange="updatePlan()">
      <option value="emergency">Emergency Fund</option>
      <option value="laptop">Buy a Laptop</option>
      <option value="course">Upskill / Course</option>
      <option value="travel">Travel Goal</option>
    </select>

    <!-- ðŸ†• Tax Regime -->
    <label class="block text-sm mt-4 mb-1 font-semibold">Tax Regime Preference</label>
    <select id="tax" class="w-full p-2 rounded border dark:bg-gray-700 dark:border-gray-600" onchange="updatePlan()">
      <option value="auto">Suggest Best for Me</option>
      <option value="new">New Regime (No deductions)</option>
      <option value="old">Old Regime (Use deductions)</option>
    </select>

  </div>

  <!-- RIGHT SIDE RESULT -->
  <div id="resultBox"
    class="bg-blue-50 dark:bg-gray-900 p-6 rounded-lg border border-blue-200 dark:border-gray-700 shadow-md opacity-40 pointer-events-none">

    <h2 class="text-xl font-semibold text-trust dark:text-blue-300">ðŸ“Š Smart Breakdown</h2>

    <div id="breakdown" class="mt-4 text-gray-800 dark:text-gray-200 space-y-2 text-sm md:text-base"></div>

    <!-- Alerts & Advice -->
    <hr class="my-4 border-gray-300 dark:border-gray-700">
    <p id="alertBox" class="text-sm font-medium"></p>
    <hr class="my-4 border-gray-300 dark:border-gray-700">
    <p id="adviceBox" class="italic text-sm md:text-base text-gray-800 dark:text-gray-300"></p>

    <!-- ðŸ†• TAX SECTION -->
    <h3 class="mt-6 text-lg font-semibold text-trust dark:text-blue-300">ðŸ’¸ Tax Optimization</h3>
    <p id="taxBox" class="mt-2 text-sm md:text-base text-gray-800 dark:text-gray-300"></p>

  </div>

</div>

{% endblock %}

{% block extra_head %}
<script src="{% static 'js/salary_plan.js' %}"></script>
{% endblock %}
